%% Mermaid diagram source (architecture.mmd)
%% This is the editable source; render in your preferred Mermaid tool.
%% TODO: Fill styling after initial review.

```mermaid
flowchart TD
  %% NODES (planned)
  client["Client SDK / App"]
  gateway["Gateway (POST /v1/chat/completions)"]
  interceptor["Interceptor (POST /ingest)"]
  explainer["Explainer Worker (concept extraction, verification)"]
  redis[("Redis Streams")]
  postgres[("Postgres (optional)")]
  llmproxy["LLM Provider/Proxy"]
  shadow["Shadow Model (optional)"]

  %% EDGES (planned)
  client -- "POST /v1/chat/completions" --> gateway
  gateway -- "forward chat" --> llmproxy
  gateway -- "trace events" --> redis
  client -- "POST /ingest" --> interceptor
  interceptor -- "enqueue" --> redis
  explainer -- "consume/process" --> redis
  explainer -- "write HIF" --> postgres
  explainer -- "verify" --> shadow
  client -- "GET /v1/traces/{trace_id}/graph" --> gateway
```
